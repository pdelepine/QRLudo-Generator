<script src="../rendererProcess/view/exerciceReconnaissanceVocale/exerciceReconnaissanceVocaleScript.js"></script>
<!-- contenu page QuesRep -->
<!--Panel-->

<div class="col-sm-12 card">
    <div id="btnInfo">
      <button class="btn btn-outline-success" id="infos-exercice-reco-vocale"><i class="fa fa-info-circle"></i></button>
    </div>
    <div class="text-center" id="textPresentation">
        Création d'exercice à reconnaissance vocale<br>
        Il y a deux types d'exercices : les questions ouvertes et les QCM
    </div>
    <form id="formulaireQCM" onsubmit="return false;">
        <div class="card-body">
            <h6 class="card-title"></h6>
            <nav class="nav nav-tabs">
            <ul class="nav nav-tabs">
                    <li class="nav-item">
                    <a class="nav-link" id="questionOuverteOnglet" href="#onglet-QuesOuverte">Question Ouverte </a></li>  
                    <li class="nav-item">
                    <a class="nav-link" id="questionQCMOnglet" href="#onglet-QCM">QCM</a></li>
            </ul>
          </nav>
          <div class="tab-content">
            <div class="mt-2" id="messages"></div>
              <!--début onglet QCM-->
             <div class="tab-pane" id="onglet-QCM">
                <div id="newProject" class="tab-content scrollbar-success  " role="tabpanel" style="height:500px; overflow-y: scroll; margin-top:15px;">
                  <!--début div contenant les questions-->
                  <div class="container-fluid">
                    <div id="questionContainer">
                      <!--début question 1-->
                      <div class="question" id="question1">
                        <div class="question-intro">
                          <div class="row"> 
                            <div class="col">
                              <!--Label et champ texte de la question 1-->
                              <label class="question-intro-label" data-toggle="collapse" data-target="#collapseQuestion1" aria-expanded="false" aria-controls="#collapseQuestion1" style="color:#28a745;padding-right:25px;">Question 1 : </label>
                              <input type="text" class="input-lg question-intro-input" style="width:380px;"  id="textQuestion1" cols="10" name="nomprojet"
                                            placeholder="Quelle est votre question" onkeyup="activerSave('textQuestion1');" />
                            </div>
                            <!--div pour le bouton de collapse et suppression-->
                            <div class="btn-question col-4">
                              <button type="button" id="audioQuestion1" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('textQuestion1')"> 
                                <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                              <button class="btn btn-outline-success align-self-center btn-question-collapse" type="button" data-toggle="collapse" data-target="#collapseQuestion1" aria-expanded="false" aria-controls="#collapseQuestion1" id="btnCollapseQuestion1">
                                <i class="fa fa-chevron-up pull-right"></i>
                                  <i class="fa fa-chevron-down pull-right"></i>
                              </button>
                              <button class="btn btn-outline-success align-self-center " type="button" id="deleteQuestion1" onclick="supprimerQuestion(1,'Question');">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                        <!--contenu de la div du collapse de la question 1-->
                        <div class="collapse" id="collapseQuestion1">
                          <br>
                          <div class="form-row">
                              <div class="form-group col-md-10" style="text-align: right;">
                                  <label>Bonne(s) réponse(s)</label>
                              </div>
                          </div>
                          <div id="reponseContainerQuestion1">
                          <div class="form-row" id="divQuestion1Reponse1">
                            <div class="form-group col-md-3">
                                <label class="control-label">Réponse 1 :</label>
                            </div>
                            <!--Champ texte de la réponse 1-->
                            <div class="form-group col-md-6">
                              <span class="row">
                                <input type="text" class="form-control col-sm-6" id="question1Reponse1" rows="2" name="nomprojet"
                                                  placeholder="Réponse" onkeyup="activerSave('question1Reponse1');" />
                              </span>
                            </div>
                            <!--Bouton radio pour la réponse 1-->
                            <div class="form-group col-md-2">
                              <input class="form-check-input" type="checkbox" name="gridRadios" id="gridCheckQuestion1Reponse1" style="width:70px;" 
                                    value="option" onclick="activerSaveCheckbox('gridCheckQuestion1Reponse1');">
                              <label class="form-check-label" for="gridCheckQuestion1Reponse1">
                            </div>
                            <!--Bouton de suppression réponse 1-->
                            <div class="form-group col-md-1">
                              <button id="deleteQuestion1Reponse1" type="button" class="btn btn-outline-success align-self-center" onclick="supprLigne(1,1,'Reponse');">
                                <i class="fa fa-times" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          </div>
                          <div class="form-group col-md-6">
                            <label style="color:#a5b2af;">Ajouter une réponse</label>
                            <button id="ajouterReponseQuestion1" type="button"
                                class="btn btn-outline-success align-self-center" onclick="ajouterNouvelleReponse('',false,1);" style="color:#a5b2af;" name="ajouterReponse">
                              <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                      <!--fin de la question 1-->
                    </div> 
                    <br>
                    <!--ajout d'une question-->
                    <div class="form-group col-md-6">
                      <label style="color:#a5b2af;">Ajouter une question</label>
                      <button id="ajouterQuestion" type="button"
                          class="btn btn-outline-success align-self-center" onclick="ajouterNouvelleQuestion()" style="color:#a5b2af;" name="ajouterQuestion">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                      </button>
                    </div>        
                    <br>
                    <br>
                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Message de bonne réponse :</label>
                      <div class="col-sm-6">
                          <input type="text" class="form-control" id="MessageBonnereponseQCM" placeholder="Bravo !" onkeyup="activerSave('MessageBonnereponseQCM');">
                      </div>
                      <button type="button" id="bonneReponseAudioQCM" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('MessageBonnereponseQCM')"> 
                        <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                    </div>
                    <div class="form-group row">
                      <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Message de mauvaise réponse :</label>
                      <div class="col-sm-6">
                        <input type="text" class="form-control" id="MessageMauvaisereponseQCM" placeholder="Dommage !" onkeyup="activerSave('MessageMauvaisereponseQCM');">
                      </div>
                      <button type="button" id="mauvaiseReponseAudioQCM" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('MessageMauvaisereponseQCM')"> 
                        <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                    </div>
                  </div>
                </div>         
              </div>
              <!--fin onglet QCM-->

              <!--début onglet Question-->
              <div class="tab-pane" id="onglet-QuesOuverte">     
                <br>
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Question :</label>
                  <div class="col-sm-6">
                    <input type="text" class="form-control" id="Question" style="height: 70px;" onkeyup="activerSave('Question');">
                  </div>
                  <button type="button" id="QuestionAudio" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('Question')"> 
                    <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                </div>
                <br>
                <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Bonne réponse :</label>
                    <div class="col-sm-8">
                      <span class="row">
                        <input type="text" class="form-control ml-3 col-11" id="Bonnereponse" onkeyup="activerSave('Bonnereponse');">
                        <i class="fas fa-info-circle mt-2 ml-2"
                              title="Nous vous conseillons de choisir une réponse courte et facilement prononçable par l'utilisateur. Ne pas oublier les accents dans votre réponse."
                              data-toggle="tooltip" data-placement="right"></i>
                      </span>
                    </div>
                </div>
                <br>
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Message de bonne réponse :</label>
                  <div class="col-sm-6">
                    <input type="text" class="form-control" id="MessageBonnereponse" placeholder="Bravo !" onkeyup="activerSave('MessageBonnereponse');">
                  </div>
                  <button type="button" id="bonneReponseAudio" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('MessageBonnereponse')"> 
                    <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                </div>
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-4 col-form-label" style="color:#28a745;padding-right:32px;">Message de mauvaise réponse :</label>
                  <div class="col-sm-6">
                    <input type="text" class="form-control" id="MessageMauvaisereponse" placeholder="Dommage !" onkeyup="activerSave('MessageMauvaisereponse');">
                  </div>
                  <button type="button" id="mauvaiseReponseAudio" class="btn btn-outline-success btn-unique-xl" name="ajouterSon" data-toggle="modal" data-target="#listeMusic" onclick="chamgementAudioSource('MessageMauvaisereponse')"> 
                    <i class="fa fa-music"></i>&nbsp;&nbsp;Audio</button>
                </div> 
              </div>
              <!--fin onglet Question-->
          </div>
        </div>

     <div class="card-footer form-inline">
        <div class="card col-md-auto">
          <button style="margin-top:10px" class="btn btn-outline-success btn-unique-xl" data-toggle="modal" id="emptyZones" data-target="#confirmation">
            <i class="fa fa-undo"></i>&nbsp;&nbsp;Réinitialiser
          </button>
        </div>
        <div class="card col-md-auto">
          <button type="button" class="btn btn-outline-success btn-unique-xl " id="saveQRCode" disabled>
            <i class="fa fa-download"></i>&nbsp;&nbsp;Exporter
          </button>
          <button type="submit" style="margin-top:10px" class="btn btn-outline-success " id="preview" onclick="genererJson()">
            <i class="fa fa-cogs" ></i>&nbsp;&nbsp;Générer
          </button>
        </div>
    </div>
    </form>
</div>
  
<!--/.Panel-->
<div class="modal fade" id="confirmation" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Etes vous sûr de vouloir réinitialiser ?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-outline-success" data-dismiss="modal" id="emptyFields">OK</button>
      </div>
    </div>
  </div>
</div>

<!--Panel -> zone pour afficher le QrCode produit -->
<div class="col-sm-4 card" id="qr-zone">
    <script>
        $("#qr-zone").load(path.join(__dirname.match('.*app')[0],"/rendererProcess/components/zoneQrCode/QR-zone.html"));
    </script>
</div>

<!-- Modal Popup Fichier audio -->
<div class="modal fade" id="listeMusic" tabindex="-1" role="dialog" data-backdrop="static"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Ajouter un fichier audio</h5>
                <button type="button" class="close" id="closeModalListeMusic" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body scrollbar-success">
                <div class="list-group" id="elementsAudio">
                    <div class="form-group">

                        <label class="col-sm-12 control-label" style="color:#28a745;padding-top:10px;">Veuillez copier
                            et coller le
                            lien téléchargeable du fichier audio</label>
                        <div class="col-sm-12">
                            <input type="text" id="musicUrl" name="musicUrl" class="form-control"
                                onpaste="getMusicFromUrl()">
                        </div>
                        <br>
                        <button type="button" class="btn btn-outline-success" id="showInfo" title="Afficher aide">
                            <i class="fa fa-info-circle"></i>
                        </button>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Fin Modal Popup Fichier Audio -->